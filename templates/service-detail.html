{% extends "base.html" %}

{% block title %}{{ service.title }} - BMW Hub{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/service-detail.css') }}">
{% endblock %}

{% block content %}
    <!-- Page Header -->
    <section class="page-header">
        <div class="container">
            <div class="page-header-content">
                <h1>{{ service.title | safe }}</h1>
                <nav aria-label="breadcrumb">
                    <ol class="breadcrumb">
                        <li class="breadcrumb-item"><a href="{{ url_for('index') }}">Home</a></li>
                        <li class="breadcrumb-item"><a href="{{ url_for('services_page') }}">Services</a></li>
                        <li class="breadcrumb-item active" aria-current="page">{{ service.title | safe }}</li>
                    </ol>
                </nav>
            </div>
        </div>
    </section>

    <!-- Service Detail Section -->
    <section class="service-detail section-padding">
        <div class="container">
            <div class="service-detail-header">
                <div class="service-icon">{{ service.icon | safe }}</div>
                <h2>{{ service.title }}</h2>
                <p class="service-short-desc">{{ service.short_desc | safe }}</p>
            </div>
            
            <div class="service-detail-content">
                <div class="service-detail-main">
                    <div class="service-image">
                        <img src="{{ url_for('static', filename='images/services/' + service.image) }}" alt="{{ service.title }}">
                    </div>
                    
                    <div class="service-detail-description">
                        <h3>About This Service</h3>
                        <p>{{ service.full_desc | safe }}</p>
                        
                        <h3>Why Choose BMW Hub for {{ service.title | safe }}</h3>
                        <ul class="service-benefits">
                            <li>
                                <span class="benefit-icon"><i class="fas fa-check-circle"></i></span>
                                <span class="benefit-text">BMW Certified Technicians with specialized training</span>
                            </li>
                            <li>
                                <span class="benefit-icon"><i class="fas fa-check-circle"></i></span>
                                <span class="benefit-text">State-of-the-art diagnostic equipment specifically for BMW</span>
                            </li>
                            <li>
                                <span class="benefit-icon"><i class="fas fa-check-circle"></i></span>
                                <span class="benefit-text">High-quality OEM or equivalent parts</span>
                            </li>
                            <li>
                                <span class="benefit-icon"><i class="fas fa-check-circle"></i></span>
                                <span class="benefit-text">Competitive pricing compared to dealerships</span>
                            </li>
                            <li>
                                <span class="benefit-icon"><i class="fas fa-check-circle"></i></span>
                                <span class="benefit-text">Comprehensive warranty on all work performed</span>
                            </li>
                        </ul>
                        
                        <div class="service-actions">
                            <a href="{{ url_for('appointment') }}" class="btn">Schedule This Service</a>
                            <a href="{{ url_for('contact') }}" class="btn btn-secondary">Request a Quote</a>
                        </div>
                    </div>
                    
                    <!-- Service Process -->
                    <div class="service-process">
                        <h3>Our {{ service.title }} Process</h3>
                        <div class="process-steps">
                            <div class="process-step">
                                <div class="step-number">1</div>
                                <div class="step-content">
                                    <h4>Inspection & Diagnosis</h4>
                                    <p>Our technicians perform a comprehensive inspection to accurately diagnose the issue.</p>
                                </div>
                            </div>
                            
                            <div class="process-step">
                                <div class="step-number">2</div>
                                <div class="step-content">
                                    <h4>Detailed Estimate</h4>
                                    <p>We provide a transparent estimate with detailed breakdown of parts and labor.</p>
                                </div>
                            </div>
                            
                            <div class="process-step">
                                <div class="step-number">3</div>
                                <div class="step-content">
                                    <h4>Quality Service</h4>
                                    <p>Our certified technicians perform the service using proper tools and quality parts.</p>
                                </div>
                            </div>
                            
                            <div class="process-step">
                                <div class="step-number">4</div>
                                <div class="step-content">
                                    <h4>Final Inspection</h4>
                                    <p>We conduct a thorough quality check to ensure the service meets our high standards.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- FAQ Section -->
                    <div class="service-faq">
                        <h3>Frequently Asked Questions</h3>
                        <div class="faq-list">
                            <div class="faq-item">
                                <div class="faq-question">
                                    <h4>How long does this service typically take?</h4>
                                    <span class="faq-toggle"><i class="fas fa-plus"></i></span>
                                </div>
                                <div class="faq-answer">
                                    <p>Most {{ service.title.lower() }} services can be completed within 1-3 hours, depending on the specific requirements and the condition of your BMW. For more complex issues, we may need to keep your vehicle for a full day. We'll provide you with an estimated completion time when you bring your vehicle in.</p>
                                </div>
                            </div>
                            
                            <div class="faq-item">
                                <div class="faq-question">
                                    <h4>Do you provide a warranty for this service?</h4>
                                    <span class="faq-toggle"><i class="fas fa-plus"></i></span>
                                </div>
                                <div class="faq-answer">
                                    <p>Yes, all services performed at BMW Hub come with a comprehensive warranty. Parts are covered for 12 months/12,000 miles, and our labor is guaranteed for 6 months. This ensures your peace of mind and demonstrates our confidence in the quality of our work.</p>
                                </div>
                            </div>
                            
                            <div class="faq-item">
                                <div class="faq-question">
                                    <h4>How often should I have this service performed?</h4>
                                    <span class="faq-toggle"><i class="fas fa-plus"></i></span>
                                </div>
                                <div class="faq-answer">
                                    <p>The recommended interval for {{ service.title.lower() }} varies depending on your specific BMW model, driving habits, and conditions. Generally, we recommend following BMW's maintenance schedule, which usually suggests this service every [specific interval]. Our technicians can provide a personalized recommendation based on your vehicle's needs.</p>
                                </div>
                            </div>
                            
                            <div class="faq-item">
                                <div class="faq-question">
                                    <h4>What are the signs that I need this service?</h4>
                                    <span class="faq-toggle"><i class="fas fa-plus"></i></span>
                                </div>
                                <div class="faq-answer">
                                    <p>Common signs that indicate you may need {{ service.title.lower() }} include [specific symptoms]. If you notice any of these issues, it's best to schedule an appointment as soon as possible to prevent further damage and more costly repairs.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="service-detail-sidebar">
                    <!-- Service Request Form -->
                    <div class="sidebar-widget service-request">
                        <h3>Request This Service</h3>
                        <form class="quick-form" action="{{ url_for('contact') }}" method="post">
                            <input type="hidden" name="service" value="{{ service.id }}">
                            
                            <div class="form-group">
                                <label for="name" class="form-label required">Your Name</label>
                                <input type="text" id="name" name="name" class="form-control" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="email" class="form-label required">Email Address</label>
                                <input type="email" id="email" name="email" class="form-control" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="phone" class="form-label required">Phone Number</label>
                                <input type="tel" id="phone" name="phone" class="form-control" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="message" class="form-label">Message</label>
                                <textarea id="message" name="message" class="form-control" rows="3"></textarea>
                            </div>
                            
                            <button type="submit" class="submit-btn">Request Service</button>
                        </form>
                    </div>
                    
                    <!-- Other Services -->
                    <div class="sidebar-widget">
                        <h3>Other Services</h3>
                        <ul class="service-list">
                            {% for s in services if s.id != service.id %}
                                <li>
                                    <a href="{{ url_for('service_detail', service_id=s.id) }}">
                                        <span class="service-icon-small">{{ s.icon | safe }}</span>
                                        <span>{{ s.title | safe }}</span>
                                    </a>
                                </li>
                            {% endfor %}
                        </ul>
                    </div>
                    
                    <!-- Contact Info -->
                    <div class="sidebar-widget contact-widget">
                        <h3>Need Help?</h3>
                        <p>Have questions about our {{ service.title | safe }} service? Contact us directly:</p>
                        
                        <div class="contact-info">
                            <div class="contact-item">
                                <i class="fas fa-phone-alt"></i>
                                <a href="tel:{{ company_info.phone }}">{{ company_info.phone | safe }}</a>
                            </div>
                            
                            <div class="contact-item">
                                <i class="fas fa-envelope"></i>
                                <a href="mailto:{{ company_info.email }}">{{ company_info.email | safe }}</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Related Services Section -->
    <section class="related-services section-padding bg-light">
        <div class="container">
            <div class="section-title">
                <h2>Related Services</h2>
                <p>You might also be interested in these BMW services</p>
            </div>
            
            <div class="services-grid">
                {% for s in services if s.id != service.id %}
                    {% if loop.index <= 3 %}
                        <div class="service-card">
                            <div class="service-image">
                                <img src="{{ url_for('static', filename='images/services/' + s.image) }}" alt="{{ s.title }}">
                            </div>
                            <div class="service-content">
                                <div class="service-icon">{{ s.icon | safe }}</div>
                                <h3 class="service-title">{{ s.title | safe }}</h3>
                                <p class="service-desc">{{ s.short_desc | safe }}</p>
                                <a href="{{ url_for('service_detail', service_id=s.id) }}" class="btn btn-secondary">Learn More</a>
                            </div>
                        </div>
                    {% endif %}
                {% endfor %}
            </div>
        </div>
    </section>
    
    <!-- Testimonials Section -->
    <section class="testimonials-section section-padding">
        <div class="container">
            <div class="section-title">
                <h2>What Our Customers Say</h2>
                <p>Read reviews from our satisfied customers about our {{ service.title }} service</p>
            </div>
            
            <div class="testimonials-slider">
                <div class="testimonial-item">
                    <div class="quote-icon">
                        <i class="fas fa-quote-left"></i>
                    </div>
                    <p class="testimonial-text">I had my BMW's {{ service.title.lower() }} done at BMW Hub and was extremely impressed with their attention to detail. The service was completed on time and at a fair price.</p>
                    <div class="testimonial-author">
                        <div class="author-image">
                            <img src="{{ url_for('static', filename='images/testimonials/customer-1.jpg') }}" alt="John Davis">
                        </div>
                        <div class="author-info">
                            <h4>John Davis</h4>
                            <p>BMW 5 Series Owner</p>
                        </div>
                    </div>
                </div>
                
                <div class="testimonial-item">
                    <div class="quote-icon">
                        <i class="fas fa-quote-left"></i>
                    </div>
                    <p class="testimonial-text">The team at BMW Hub diagnosed and fixed issues that two other shops couldn't find during their {{ service.title.lower() }}. These guys really know BMWs inside and out!</p>
                    <div class="testimonial-author">
                        <div class="author-image">
                            <img src="{{ url_for('static', filename='images/testimonials/customer-2.jpg') }}" alt="Sarah Johnson">
                        </div>
                        <div class="author-info">
                            <h4>Sarah Johnson</h4>
                            <p>BMW X5 Owner</p>
                        </div>
                    </div>
                </div>
                
                <div class="testimonial-item">
                    <div class="quote-icon">
                        <i class="fas fa-quote-left"></i>
                    </div>
                    <p class="testimonial-text">I've been taking my BMW to the dealership for years, but BMW Hub did a better job on the {{ service.title.lower() }} at nearly half the price. I'm definitely coming back!</p>
                    <div class="testimonial-author">
                        <div class="author-image">
                            <img src="{{ url_for('static', filename='images/testimonials/customer-3.jpg') }}" alt="Michael Chen">
                        </div>
                        <div class="author-info">
                            <h4>Michael Chen</h4>
                            <p>BMW 3 Series Owner</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
{% endblock %}

{% block extra_js %}
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // FAQ Toggle
        const faqItems = document.querySelectorAll('.faq-item');
        
        faqItems.forEach(item => {
            const question = item.querySelector('.faq-question');
            const answer = item.querySelector('.faq-answer');
            const toggle = item.querySelector('.faq-toggle');
            
            question.addEventListener('click', function() {
                answer.style.display = answer.style.display === 'block' ? 'none' : 'block';
                toggle.classList.toggle('active');
                
                const icon = toggle.querySelector('i');
                icon.classList.toggle('fa-plus');
                icon.classList.toggle('fa-minus');
            });
        });
    });
</script>
{% endblock %}